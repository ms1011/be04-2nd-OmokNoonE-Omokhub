<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.omoknoone.omokhub.projectmember.query.repository.ProjectTeamMapper">
<resultMap id="SelectTeamByProjectResultMap" type="org.omoknoone.omokhub.projectmember.query.ProjectTeamDTO">
    <id property="projectId" column="PROJECT_ID"/>
    <result property="title" column="TITLE"/>
    <result property="startDate" column="START_DATE"/>
    <result property="endDate" column="END_DATE"/>
    <result property="status" column="STATUS"/>
    <result property="teamName" column="TEAM_NAME"/>
</resultMap>
    <select id="selectTeamByProject" parameterType="string" resultMap="SelectTeamByProjectResultMap">
        SELECT
               P.PROJECT_ID
             , P.TITLE
             , P.START_DATE
             , P.END_DATE
             , P.STATUS
             , PT.TEAM_NAME
          FROM PROJECT P
          JOIN PROJECT_TEAM PT ON P.PROJECT_TEAM_ID = PT.PROJECT_TEAM_ID
         WHERE PT.TEAM_NAME = #{teamName}
    </select>
</mapper>